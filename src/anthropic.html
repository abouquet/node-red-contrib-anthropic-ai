<script type="text/html" data-template-name="anthropic-ai">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row">
        <label for="node-input-apiKey"><i class="fa fa-lock"></i> API Key</label>
        <input type="password" id="node-input-apiKey" placeholder="Your Anthropic API Key">
    </div>
    <div class="form-row">
        <label for="node-input-model"><i class="fa fa-code"></i> Model</label>
        <select type="text" id="node-input-model">
            <option value="claude-3-opus-20240229">Claude 3 Opus</option>
            <option value="claude-3-sonnet-20240229">Claude 3 Sonnet</option>
            <option value="claude-3-haiku-20240307">Claude 3 Haiku</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-maxTokens"><i class="fa fa-text-width"></i> Max Tokens</label>
        <input type="number" id="node-input-maxTokens" placeholder="1024">
    </div>
</script>

<script type="text/html" data-help-name="anthropic-ai">
    <p>A Node-RED node for interacting with Anthropic AI service (Claude  AI model)</p>
    
    <h3>Inputs</h3>
    <dl class="message-properties">
        <dt>payload
            <span class="property-type">string</span>
        </dt>
        <dd>The message to send to Claude AI</dd>
    </dl>

    <h3>Outputs</h3>
    <dl class="message-properties">
        <dt>payload
            <span class="property-type">string</span>
        </dt>
        <dd>Claude's response</dd>
        
        <dt>claude
            <span class="property-type">object</span>
        </dt>
        <dd>Additional response information</dd>
    </dl>
</script>

<script type="text/javascript">
    console.log("Registering Anthropic AI node type in HTML...");
    RED.nodes.registerType('anthropic-ai', {
        category: 'AI',
        color: '#7B95A5',
        defaults: {
            name: { value: "" },
            model: { value: "claude-3-opus-20240229" },
            maxTokens: { value: 1024, validate: RED.validators.number() },
            apiKey: { value: "", required: true }
        },
        inputs: 1,
        outputs: 1,
        icon: "font-awesome/fa-robot",
        label: function() {
            return this.name || "anthropic-ai";
        },
        paletteLabel: "anthropic-ai"
    });
    console.log("anthropic-ai node type registered in HTML");
</script>